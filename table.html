<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <script src='main.js'></script>
    <style>
        body{
            display: flex;
        }
        .container{
            display: flex;
         justify-content: center;
         align-items: center;
         /* transform: translate(-50%,50%); */
     
         
        }
        table,th,td{
            border:1px solid black
        }
        table{
            width: 35%;
          text-align: center;
        }
        td,th{
            padding: 5px;
        }
    </style>
</head>
<body>
  <!-- <div class="container"> -->
    <table id="data-table">
        <tr>
            <th>ID</th>
            <th>TITLE</th>
            <th>BODY</th>
        </tr>
 
        <tbody id='data-table-body'>
            
        </tbody>
    </table>
    <a href="/info">Click here for inserting , updating, deleting data</a>
  <!-- </div> -->
  <script>
    function update(){
        fetch('/fetch-data')//get request its name is fetch coz it wants to fetch data
        .then(response=>response.json())
        .then(data=>{
            const tableBody = document.getElementById('data-table-body');

            tableBody.innerHTML = '';
            data.forEach(row => {
            const newRow = tableBody.insertRow(); // Create a new table row

            // Insert data into the new row's cells
            const idCell = newRow.insertCell();
            const titleCell = newRow.insertCell();
            const bodyCell = newRow.insertCell();

            idCell.textContent = row.id;
            titleCell.textContent = row.title;
            bodyCell.textContent = row.body;
        });
        })
        .catch(error => console.error('Error fetching data:', error));
    }

    // Call the function initially and/or on events triggering updates
    update(); // Fetch data and update the table initially
    
  </script>
<!-- 
// also done using ejs -->
</body>
</html>